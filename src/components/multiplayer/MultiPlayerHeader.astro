---
// JavaScript for MultiPlayer.
// Include this in the page header.
// Call multiplayerInit() in the page onload
// See MultiPlayer.astro
import 'video.js/dist/video-js.min.css';
import 'lite-youtube-embed/src/lite-yt-embed.css';
// How do we include video.min.js directly from nodejs without further compression? (because it is already compressed)
// To import WITH compression (however this renames videojs):
// <script src="../../assets/video.js"></script>
// <script>import 'video.js/dist/video.js';</script>
// import { videojs } from 'video.js/dist/video.js';
// To import WITHOUT minifying (however this requires copying the file to ):
// <script is:inline src={import.meta.env.BASE_URL + "video.min.js"}></script>
---
<script>import 'lite-youtube-embed';</script>
<script is:inline src={import.meta.env.BASE_URL + "video.min.js"}></script>
<script>
    import * as CookieConsent from "vanilla-cookieconsent";
    import * as MultiPlayer from "./multiplayer.js";
    MultiPlayer.multiplayerInit(CookieConsent.acceptedCategory("player"));
    window.addEventListener('cc:onChange', ({detail}) => {
        if (detail.changedCategories == "player") {
            MultiPlayer.changeCookie(CookieConsent.acceptedCategory("player"));
        }
    });
</script>
